{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,QAASH,SAASC,cAAc,4BAIpCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAR,EAAAS,WAASC,IACzC,MAAMC,EAAS,CAAEL,MAAOJ,EAAKI,MAAMM,MAAOL,QAASL,EAAKK,QAAQK,OAChEC,aAAaC,QAJG,sBAIkBC,KAAKC,UAAUL,GAAQ,GAC1D,MAGHT,EAAKC,KAAKK,iBAAiB,UAE3B,SAAsBE,GAGlB,GAFAA,EAAEO,iBAEuB,KAArBf,EAAKI,MAAMM,OAAuC,KAAvBV,EAAKK,QAAQK,MACxC,OAAOM,MAAM,uBAEDR,EAAdS,cAAcC,QAChBP,aAAaQ,WAjBG,sB,IAqBpB,MAUMC,EAVO,CAAAC,IACX,IACE,MAAMC,EAAkBX,aAAaY,QAAQF,GAE7C,OAA2B,OAApBC,OAA2BE,EAAYX,KAAKY,MAAMH,E,CACzD,MAAOI,GAEPC,QAAQD,MAAM,oBAAqBA,EAAMrB,Q,GAGzBuB,CA/BA,uBAiChBR,IACFpB,EAAKI,MAAMM,MAAQU,EAAYhB,MAC/BJ,EAAKK,QAAQK,MAAQU,EAAYf","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('.feedback-form input'),\n    message: document.querySelector('.feedback-form textarea'),\n};\nconst STORAGE_KEY = 'feedback-form-state'\n\nrefs.form.addEventListener('input', throttle(e => {\n    const object = { email: refs.email.value, message: refs.message.value };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(object));\n}, 500)\n);\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    \n    if (refs.email.value === \"\" || refs.message.value === \"\") {\n        return alert('Заповніть всі поля!'); \n    }\n    e.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n}\n//    дописать функцию котора загружает страничку и записіввеет из стореджа туда данніе \n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key); \n    \n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n   \n    console.error('Get state error: ', error.message);\n  }\n};\nconst storageData = load(STORAGE_KEY);\n\nif (storageData) {\n  refs.email.value = storageData.email;\n  refs.message.value = storageData.message;\n} "],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","addEventListener","throttle","e","object","value","localStorage","setItem","JSON","stringify","preventDefault","alert","currentTarget","reset","removeItem","$945622fd0f572e60$var$storageData","key","serializedState","getItem","undefined","parse","error","console","$945622fd0f572e60$var$load"],"version":3,"file":"03-feedback.460c5cd1.js.map"}